<!DOCTYPE html>
<html>
    <head>
        <title>VR Vortex Tunnel</title>
        <link href="stylesheet.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    </head>

    <body>
        <div class="main">

            <nav id="mainNavigation" class="navbar navbar-inverse">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="index.html">VR Vortex Tunnel</a>
                    </div>
                    <div class="collapse navbar-collapse" id="myNavbar">
                        <ul class="nav navbar-nav">
                            <li><a href="tutorials.html">Tutorials</a></li>
                            <li><a href="dokumentation.html">Technische Dokumentation</a></li>
                            <li class="active"><a href="#">Testing</a></li>
                            <li><a href="projektmgmt.html">Projektmanagement</a></li>
                            <li><a href="resultate.html">Resultate</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

            <section class="container" id="content">
                
                
                <article class="col-sm-4">


                    <h2>Testing</h2>

                    <h3>Übersicht</h3>
                    <ul>
                        <li><a href="#Versuchsaufbau">Versuchsaufbau</a></li>
                        <li><a href="#Versuchsresultate">Versuchsresultate</a></li>
                        <li><a href="#ErkenntnisseFragebogen">Erkenntnisse Fragebogenauswertung</a></li>
						<li><a href="#ErkenntnisseBeobachtung">Erkenntnisse Versuchsbeobachtung</a></li>
                        <li>Zukünftige Fragestellungen</li>
                    </ul>
                </article>
            
                
                
                <article class="col-sm-8">


                    <h3 id="Versuchsaufbau">Versuchsaufbau</h3>
					<h4>Notwendige Komponenten</h4>
					<ul>
						<li>Raum mit mindestens 2 Meter mal 2 Meter freiem Platz</li>
						<li>2 Teleskop-Ständer zur Befestigung der Sensoren</li>
						<li>1 Geh-Hilfe zur Vermeidung von Unfällen</li>
						<li>
							HTC Vive Set bestehend aus:
							<ul>
								<li>1 VR-Headset</li>
								<li>2 Raumsensoren</li>
								<li>2 Controller</li>
								<li>1 Linkbox</li>
								<li>1 VR-Headset</li>
								<li>Kopfhörer (optional)</li>
							</ul>
						</li>
						<li>
							VR-Computer mit folgenden Eigenschaften:
							<ul>
								<li>nVidia GeForce 970+ / AMD Radeon RX 480 oder besser</li>
								<li>Intel Core i5 / AMD FX 8350 oder besser</li>
								<li>Steam-Account</li>
								<li>Vive-Account</li>
								<li>Stabile Internet-Verbindung</li>
							</ul>
						</li>
					</ul>
					
					

                    
 

					<h4>Probanden</h4>
					<p>Um den Versuch auszuführen sind mindestens 10 Personen notwendig, welche folgende Kriterien erfüllen sollen:</p>
					<ul>
						<li>Keine Epilepsie</li>
						<li>Kein Herzschrittmacher</li>
					</ul>
					
					

                    
					<h4>Vortex Tunnel Testszenarien</h4>
					<p>Mit dem VR Vortex Tunnel Prototypen werden am 29-ten November 2017 zusammen mit freiwilligen Probanden Tests durchgeführt. Dabei soll untersucht werden, welche Tunnel-Einstellungen zum maximalen Effekt führen, bzw. wie die Probanden am stärksten aus dem Gleichgewicht gebracht werden können.</p>
                    

					<h5>Testablauf mit jedem Probanden</h5>
					<p>
						Jeder Proband soll zu Beginn das Standardszenario des Vortex-Tunnels durchlaufen. Das Standardszenario beginnt in einer gewöhnlichen VR-Szenerie. Nachdem sich der Proband an VR gewöhnt hat, kann der Standard-Tunnel betreten werden. 
						Danach folgen drei weitere Szenarien, die den Probanden direkt in einen neu parametrisierten Vortex-Tunnel führen. Nach jedem Szenario soll die Testperson den entsprechenden Abschnitt auf dem Fragebogen ausfüllen. Zusätzlich notieren auch die Testleiter ihre Beobachtungen.
						Es existieren sechs Testszenarien (exkl. Standardszenario). Jeder Teilnehmer wird nach dem Standardszenario durch drei der sechs Szenarien geführt. Die untenstehende Grafik erläutert den Ablauf genauer.
						<img src="Content/images/testing/workflow_scenarios.png" >
						<br />
					</p>
                    

					<h5>Testszenarien</h5>
					<p>
					Die nachfolgenden Abschnitte beschreiben jeweils ein Testszenario, welches so mit einem Probanden durchgeführt werden kann. Dazu muss vor dem Testen lediglich die Konfigurationsdatei „vortexparams.xml“ (Im Unterordner Assets des Projekts) entsprechend angepasst oder ausgetauscht werden.
					</p>
                    

					<h5>Standardszenario</h5>
					<p>
						Mit dem Standardszenario soll in etwa ein „gewöhnlicher“ Vortex-Tunnel durchschritten werden. Als Referenz dient das folgende, in der Aufgabenstellung angegebene Youtube-Video:
						https://www.youtube.com/watch?v=GJS-57LYdwE
						Die Parameter, welche das Standardszenario beschreiben, sind unten ersichtlich:
						<img src="Content/images/testing/xml_configuration.png" >
						<br />
	
						Die Probanden sollen den Vortex Tunnel mehrmals durchschreiten, jeweils mit anderen Einstellungen. Zu diesem Zweck werden im Folgeabschnitt einige Testszenarien definiert. Um aussagekräftige Ergebnisse zu erhalten, sollen die Szenarien jeweils nicht zu stark vom Standardszenario abweichen. So kann die Wirkung einzelner Parameter besser nachvollzogen werden.
					</p>
                    
					<h5>Szenario 1 – enger Tunnel</h5>
					<p>
						In diesem Szenario wird der Durchmesser des Tunnels im Vergleich zum Standardszenario verkleinert. Dabei soll herausgefunden werden, ob mit einem engeren Tunnel ein grösserer Effekt erreicht werden kann.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:
						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Durchmesser: 4.0 (anstatt 6.0)</li>
						</ul>

					</p>
                    

					<h5>Szenario 2 – breiter Tunnel</h5>
					<p>
						In diesem Szenario wird der Durchmesser des Tunnels im Vergleich zum Standardszenario vergrössert. Dabei soll herausgefunden werden, ob mit einem breiteren Tunnel ein grösserer Effekt erreicht werden kann.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:

						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Durchmesser: 8.0 (anstatt 6.0)</li>
						</ul>

					</p>
                    
            
					<h5>Szenario 2 – breiter Tunnel</h5>
					<p>
						In diesem Szenario wird der Durchmesser des Tunnels im Vergleich zum Standardszenario vergrössert. Dabei soll herausgefunden werden, ob mit einem breiteren Tunnel ein grösserer Effekt erreicht werden kann.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:

						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Durchmesser: 8.0 (anstatt 6.0)</li>
						</ul>

					</p>
                    
            
					<h5>Szenario 3 – schnell drehendes Muster</h5>
					<p>
						In diesem Szenario dreht sich das Wandmuster (sowohl Textur als auch Lichter) mit erhöhter Geschwindigkeit. Dabei soll sich zeigen, ob der Effekt des Gleichgewichtsverlusts noch verstärkt werden kann.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:

						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Textur -> Drehgeschwindigkeit: 6 (anstatt 4)</li>
							<li>Lichter -> Drehgeschwindigkeit 150 (anstatt 100)</li>
						</ul>

					</p>
                    
            
					<h5>Szenario 4 – langsam drehendes Muster</h5>
					<p>
						In diesem Szenario dreht sich das Wandmuster mit niedrigerer Geschwindigkeit. Dabei soll die Wirkung auf den Gleichgewichtsverlust ermittelt werden.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:

						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Textur -> Drehgeschwindigkeit: 2 (anstatt 4)</li>
							<li>Lichter -> Drehgeschwindigkeit 50 (anstatt 100)</li>
						</ul>

					</p>
                    
            
					<h5>Szenario 6 – mehr Lichter mit niedriger Intensität</h5>
					<p>
						In diesem Szenario wird die Anzahl Lichter im Vergleich zum Standardszenario reduziert, dafür wird deren Intensität erhöht. Dabei soll sich zeigen, ob der Effekt des Gleichgewichtsverlusts noch verstärkt werden kann.
						Dieses Szenario unterscheidet sich vom Standardszenario in folgenden Parametern:

						<ul>
							<li>Intro: off (anstatt on)</li>
							<li>Lichter -> Anzahl: 50 (anstatt 20)</li>
							<li>Lichter -> Intensität: 10 (anstatt 20)</li>
							<li>Lichter -> Reichweite: 2 (anstatt 4)</li>
						</ul>

					</p>
					<hr />
					
					<h3 id='Versuchsresultate'>Versuchsresultate</h3>
					<p>Wähle eine beliebige Kombination aus Fragestellungen und den Datensätzen</p>
					
					<div class="col-md-6">
						 <h4>Fragestellungen</h4>
			
						<div class="funkyradio">
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('lossOfBalance','Beeinträchtigung Gleichgewichts-Sinn');" name="question" id="lossOfSense" checked/>
								<label for="lossOfSense">Beeinträchtigung Gleichgewichts-Sinn</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('sickness','Übelkeit');" name="question" id="motionSickness"/>
								<label for="motionSickness">Übelkeit</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('left','Fallen nach Links');" name="question" id="fallLeft"/>
								<label for="fallLeft">Fallen nach Links</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('right','Fallen nach Rechts');" name="question" id="fallRight"/>
								<label for="fallRight">Fallen nach Rechts</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('aid','Abhängigkeit Gehhilfe');" name="question" id="aidNeeded"/>
								<label for="aidNeeded">Abhängigkeit Gehhilfe</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio" onclick="setQuestion('improvement','Verbesserung Gleichgewichts-Sinn');" name="question" id="improvement"/>
								<label for="improvement">Verbesserung Gleichgewichts-Sinn</label>
							</div>
							
								
						</div>
					</div>
					<div class="col-md-6">
						 <h4>Datensätze</h4>
						<div class="funkyradio">
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('average');" id="average_radio" checked/>
								<label for="average_radio">Alle Datensätze (Mittelwert)</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('standard');" id="standard_radio"/>
								<label for="standard_radio">Standard-Szenario</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz1');" id="sz1_radio"/>
								<label for="sz1_radio">Szenario 1</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz2');" id="sz2_radio"/>
								<label for="sz2_radio">Szenario 2</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz3');" id="sz3_radio"/>
								<label for="sz3_radio">Szenario 3</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz4');" id="sz4_radio"/>
								<label for="sz4_radio">Szenario 4</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz5');" id="sz5_radio"/>
								<label for="sz5_radio">Szenario 5</label>
							</div>
							<div class="funkyradio-primary">
								<input type="radio"name="dataset" onclick="setDataSet('sz6');" id="sz6_radio"/>
								<label for="sz6_radio">Szenario 6</label>
							</div>
							
							
						</div>
					</div>
			
					<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
					<div class="results">
						
						<div id="result" class="col-lg-12 col-sm-12" style="padding-top: 20px;padding-bottom: 20px;"></div>
						
					</div>

					
					<br />
					<div class="results">
						<div id="fallLeft" class="col-lg-6 col-sm-12"></div>
						<div id="fallRight" class="col-lg-6 col-sm-12"></div>
					</div> 
					

					<hr />
					<h3 id='ErkenntnisseFragebogen'>Erkenntnisse Fragebogenauswertung</h3>
					<h4>Effekt wird kleiner bei mehreren Durchläufen</h4>
					Anhand der Mittelwerte der Bewertung «Mein Gleichgewichtssinn im Vortex Tunnel war beeinträchtigt» von einer Skala von 1 bis 10 sieht man, dass tendenziell der Effekt weniger stark in späteren Durchgängen wahrgenommen wurde. Einzig die Effektsteigerung in Szenario 2 war stark genug um diesen Effekt entgegen zu wirken.
 
					Abbildung 1 Stärke des Gleichgewichtsverlustes anhand Mittelwerte
					<h4>Enger Tunneldurchmesser ist effektsteigernd</h4>
					Die Szenarien SZ1 und SZ2 beschäftigen sich mit der unterschiedlichen Effekt-Wahrnehmung bei der Vergrösserung (SZ1) bzw. der Verkleinerung (SZ2) des Tunneldurchmessers. Gemäss Testpersonen wurde in diesem Vergleich die grösste Effektsteigerung des ganzen Versuchsaufbaus festgestellt. So wird der kleinere Tunnel als massiv effektverstärkend gegenüber dem vergrösserten Tunnel wahrgenommen wie in der Tabelle unterhalb sichtbar ist:
					 
					Abbildung 2 Beeinflussung Gleichgewichtsverlust durch Tunneldurchmesser
					<h4>Schneller Tunnel ist effektiver</h4>
					Die Szenarien SZ3 und SZ4 beschäftigen sich mit der unterschiedlichen Effekt-Wahrnehmung bei der Beschleunigung (SZ3) bzw. der Verlangsamung (SZ4) der Drehgeschwindigkeit des Tunnels. Gemäss Testpersonen wurde der Effekt bei einem schnelleren Tunnel stärker wahrgenommen. Der Effekt war jedoch nicht stark genug um der Effektverkleinerung (siehe weiter oben) vollständig entgegen zu wirken. Somit orten wir den optimalen Wert für die Geschwindigkeit zwischen dem Standard-Szenario und dem Beschleunigungs-Szenario (SZ3).  
					 
					Abbildung 3 Beeinflussung Gleichgewichtssinn durch Tunnelgeschwindigkeit
					<h4>Viele Lichtquellen sind stärker als wenige starke Lichtquellen</h4>
					Die Szenarien SZ5 und SZ6 beschäftigen sich mit der unterschiedlichen Effekt-Wahrnehmung bei wenigen starken Lichtquellen (SZ5) bzw. bei vielen schwachen Lichtquellen (SZ6) im Tunnel. Gemäss Testpersonen wurde der Effekt bei vielen schwachen Lichtern stärker wahrgenommen. Der Effekt war jedoch nicht stark genug um der Effektverkleinerung (siehe weiter oben) vollständig entgegen zu wirken. Somit orten wir den optimalen Wert für die Lichtquellen zwischen dem Standard-Szenario und dem Viele-Schwache-Lichter Szenario (SZ6).  
					 
					Abbildung 3 Beeinflussung Gleichgewichtssinn durch Lichtquellen im Tunnel
					
					<h3 id='ErkenntnisseBeobachtung'>Erkenntnisse Versuchsbeobachtung</h3>
					Bei der Durchführung des Tests wurden nebst den Auswertungen der Fragebögen folgendes festgestellt:
					<BR />
						<BR />
					<ul>
						<li>Je schneller die Testperson läuft desto geringer ist der Effekt</li>
						Die Geschwindigkeit der Testprobanden mit welcher der Tunnel durchschritten wurde beschleunigte sich mit jedem Tunnel-Szenario.
						<BR />
						<BR />
						<li>Testpersonen tendieren darauf den «Steg» zu fokussieren in späteren Durchläufen</li>
						Im ersten Durchlauf war das Sichtfeld in die Ferne gerichtet um das «Begrenzungs-Netz» zu sehen. Bei weiteren Durchläufen wurde sich dann vermehrt auf den Steg fokussiert. Dies wurde durch Beobachtung des Blickfeldes in Unity festgestellt.
						<BR />
						<BR />
						<li>Enthusiasmus der Testpersonen für VR verstärkt das Erlebnis</li>
						Probanden welche begeistert waren VR auszuprobieren haben den Effekt stärker wahrgenommen. 
						<BR />
						<BR />
						<li>Weitere bekannte Personen im Raum verfälschen das Resultat</li>
						Wir haben festgestellt, dass die geringe Wahrnehmung des Effektes von Testperson 7 sich auf Testperson 8 ausgewirkt hat. So änderte sich die Wahrnehmung von Testperson 8 drastisch nach einem kurzen Gespräch mit Testperson 7 in welchem der Effekt diskutiert wurde.
						<BR />
						<BR />
						<li>Erklärung des Effektes des Vortex-Tunnels verstärkt diesen</li>
						Testprobanden welcher der Effekt genau erklärt wurde nahmen diesen verstärkt wahr. Dies sieht man sehr gut an Testpersonen 1 – 3, welchen das Ziel und der Effekt genau aufgezeigt wurde.
						<BR />
						<BR />
						<li>Steam-Startraum wurde als angenehme Angewöhnung wahrgenommen</li>
						Wir haben zuerst eine Simulation eines Naturgebietes geladen jedoch wurde dies als etwas abrupt wahrgenommen. Die Testpersonen haben sich wesentlich besser Ladeschirm von Steam-VR zurechtgefunden.
						<BR />
						<BR />
						<li>Genaue Fragen zu Gleichgewichtsverlust sind unklar</li>
						Häufig wurde nachgefragt, was genau mit einem Gleichgewichtsverlust in eine bestimmte Richtung gemeint ist. Eine genauere Erklärung des Fragebogens vor dem Versuch sensibilisiert die Personen, jedoch kommt es zur Effektverstärkung (siehe «Erklärung des Effektes des Vortex-Tunnels verstärkt diesen»)
						<BR />
						<BR /> 
						<li>Versuchsprobanden geben am meisten Rückmeldungen zum Steg und nicht Tunnel</li>
						Bei Verbesserungsvorschlägen liegt der Fokus klar auf dem Laufsteg und weniger auf dem Tunnel selbst. Dies deckt sich mit der Erkenntnis, dass Testprobanen sich stärker auf den Steg in späteren Szenarien fokussieren (siehe «Testpersonen tendieren darauf den «Steg» zu fokussieren in späteren Durchläufen»)
					</ul>
					<p id="demo"></p>
					
			
                    
                </article>

			</section>

            <footer>
                Hochschule Luzern, Department Informatik (2017)
            </footer>
        </div>
    </body>
	<script type="text/javascript">
		var dataset = "average";
		var question = 'lossOfBalance';
		var textscenario = '';
		var textcase = 'Beeinträchtigung Gleichgewichts-Sinn'
		
		function setDataSet(arg){
			switch(arg) {
			case "standard":
				dataset = standard;
				textscenario = ' im Datensatz Standardszenario';
				break;
			case "sz1":
				dataset = sz1;
				textscenario = ' im Datensatz Szenario 1';
				break;
			case "sz2":
				dataset = sz2;
				textscenario = ' im Datensatz Szenario 2';
				break;
			case "sz3":
				dataset = sz3;
				textscenario = ' im Datensatz Szenario 3';
				break;
			case "sz4":
				dataset = sz4;
				textscenario = ' im Datensatz Szenario 4';
				break;
			case "sz5":
				dataset = sz5;
				textscenario = ' im Datensatz Szenario 5';
				break;
			case "sz6":
				dataset = sz6;
				textscenario = ' im Datensatz Szenario 6';
				break;
			case "average":
				dataset = 'average';
				textscenario = '';
				break;
			default:
				dataset = 'average';
				textscenario = '';
			}
			drawGraph();
		}
		function setQuestion(arg, title){
			question = arg;
			textcase = title;
			drawGraph();
		}
		
		function drawGraph(){
			if(dataset == 'average'){
				drawAverage(question);
			}else{
				drawDetail(dataset, question);
			}
		}
	
			
	
	
		/*Data from the test with people*/
		var standard = {
			name: "Standard-Szenario",
			data :[
				{name: 'Testperson 1',  lossOfBalance: 10, left: 7, right:3, improvement: 6, aid: 1, sickness: 1},
				{name: 'Testperson 2',  lossOfBalance:  6, left: 3, right:1, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 3',  lossOfBalance:  10, left: 6, right:1, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 4',  lossOfBalance:  5, left: 7, right:2, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 5',  lossOfBalance:  5, left: 1, right:1, improvement: 1, aid: 1, sickness: 1},
				{name: 'Testperson 6',  lossOfBalance:  6, left: 8, right:3, improvement: 5, aid: 2, sickness: 4},
				{name: 'Testperson 7',  lossOfBalance:  1, left: 1, right:1, improvement: 1, aid: 1, sickness: 1},
				{name: 'Testperson 8',  lossOfBalance:  4, left: 3, right:2, improvement: 6, aid: 1, sickness: 1},
				{name: 'Testperson 9',  lossOfBalance:  7, left: 8, right:1, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 10',  lossOfBalance:  7, left: 8, right:1, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 11',  lossOfBalance:  4, left: 3, right:2, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 12',  lossOfBalance:  3, left: 4, right:2, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 13',  lossOfBalance:  5, left: 2, right:2, improvement: 7, aid: 3, sickness: 3}

			]
		};
		var sz1 = {
			name: "Szenario 1",
			data :[
				{name: 'Testperson 4',  lossOfBalance:  4, left: 5, right:2, improvement: 5, aid: 1, sickness: 2},
				{name: 'Testperson 5',  lossOfBalance:  3, left: 10, right:1, improvement: 10, aid: 1, sickness: 2},
				{name: 'Testperson 6',  lossOfBalance:  4, left: 6, right:2, improvement: 7, aid: 1, sickness: 4},
				{name: 'Testperson 7',  lossOfBalance:  2, left: 1, right:1, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 10',  lossOfBalance:  5, left: 1, right:6, improvement: 7, aid: 1, sickness: 1},
				{name: 'Testperson 11',  lossOfBalance:  6, left: 3, right:2, improvement: 6, aid: 3, sickness: 4},
				{name: 'Testperson 13',  lossOfBalance:  6, left: 5, right:2, improvement: 7, aid: 3, sickness: 4}

			]
		};
		var sz2 = {
			name: "Szenario 2",
			data :[
				{name: 'Testperson 1',  lossOfBalance:  9, left: 7, right:3, improvement: 7, aid: 1, sickness: 1},
				{name: 'Testperson 2',  lossOfBalance:  5, left: 3, right:1, improvement: 5, aid: 1, sickness: 2},
				{name: 'Testperson 3',  lossOfBalance:  8, left: 6, right:1, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 8',  lossOfBalance:  5, left: 4, right:1, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 9',  lossOfBalance:  7, left: 8, right:1, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 12',  lossOfBalance:  4, left: 3, right:3, improvement: 3, aid: 2, sickness: 1}

			]
		};
		var sz3 = {
			name: "Szenario 3",
			data :[
				{name: 'Testperson 4',  lossOfBalance:  6, left: 5, right:5, improvement: 5, aid: 1, sickness: 2},
				{name: 'Testperson 5',  lossOfBalance:  7, left: 1, right:1, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 6',  lossOfBalance:  6, left: 7, right:3, improvement: 5, aid: 1, sickness: 2},
				{name: 'Testperson 7',  lossOfBalance:  2, left: 1, right:5, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 10',  lossOfBalance:  6, left: 6, right:1, improvement: 6, aid: 1, sickness: 1},
				{name: 'Testperson 11',  lossOfBalance:  3, left: 3, right:2, improvement: 2, aid: 2, sickness: 2},
				{name: 'Testperson 13',  lossOfBalance:  8, left: 8, right:2, improvement: 5, aid: 2, sickness: 5}

			]
		};
		var sz4 = {
			name: "Szenario 4",
			data :[
				{name: 'Testperson 1',  lossOfBalance:  4, left: 3, right:1, improvement: 7, aid: 1, sickness: 1},
				{name: 'Testperson 2',  lossOfBalance:  5, left: 3, right:1, improvement: 5, aid: 1, sickness: 2},
				{name: 'Testperson 3',  lossOfBalance:  5, left: 5, right:1, improvement: 6, aid: 1, sickness: 2},
				{name: 'Testperson 8',  lossOfBalance:  2, left: 2, right:1, improvement: 5, aid: 1, sickness: 1},
				{name: 'Testperson 9',  lossOfBalance:  8, left: 9, right:1, improvement: 3, aid: 1, sickness: 1},
				{name: 'Testperson 12',  lossOfBalance:  2, left: 5, right:5, improvement: 9, aid: 1, sickness: 1}

			]
		};
		var sz5 = {
			name: "Szenario 5",
			data :[
				{name: 'Testperson 4',  lossOfBalance:  4, left: 4, right:4, improvement: 4, aid: 1, sickness: 2},
				{name: 'Testperson 5',  lossOfBalance:  3, left: 3, right:3, improvement: 4, aid: 1, sickness: 5},
				{name: 'Testperson 6',  lossOfBalance:  8, left: 7, right:2, improvement: 7, aid: 1, sickness: 1},
				{name: 'Testperson 7',  lossOfBalance:  3, left: 1, right:5, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 10',  lossOfBalance:  4, left: 3, right:3, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 11',  lossOfBalance:  3, left: 3, right:2, improvement: 2, aid: 2, sickness: 2},
				{name: 'Testperson 13',  lossOfBalance:  6, left: 6, right:3, improvement: 8, aid: 2, sickness: 3}

			]
		};
		var sz6 = {
			name: "Szenario 6",
			data :[
				{name: 'Testperson 1',  lossOfBalance:  7, left: 6, right:2, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 2',  lossOfBalance:  3, left: 2, right:1, improvement: 4, aid: 1, sickness: 1},
				{name: 'Testperson 3',  lossOfBalance:  6, left: 6, right:1, improvement: 7, aid: 1, sickness: 4},
				{name: 'Testperson 8',  lossOfBalance:  2, left: 2, right:1, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 9',  lossOfBalance:  6, left: 6, right:1, improvement: 2, aid: 1, sickness: 1},
				{name: 'Testperson 12',  lossOfBalance:  10, left: 10, right:1, improvement: 5, aid: 5, sickness: 2}

			]
		};

		var colors = [	"#255e91",
						"#70ad47",
						"#4472c4",
						"#ffc000",
						"#a5a5a5",
						"#ed7d31",
						"#5b9bd5",
						"#255e91",
						"#70ad47",
						"#4472c4",
						"#ffc000",
						"#a5a5a5",
						"#ed7d31",
						"#5b9bd5"];
		
		//document.getElementById("demo").innerHTML  = mode;
		
		google.charts.load('current', {packages: ['corechart', 'bar']});
		google.charts.setOnLoadCallback(drawGraph);
		
		function calculateAverage(data,key){
			var length = data.length;
			var average = 0.0;
			for (var i = 0; i < length; i++) {
			  average += data[i][key];
			}
			return Math.round((average / length) * 1000) / 1000;

		}

		
		//document.getElementById("demo").innerHTML = szenario.name;


		function drawAverage(field) {

			  var data = google.visualization.arrayToDataTable([
				["Szenario", "Mittelwert", { role: "style" } ],
				[standard.name, calculateAverage(standard.data, field),"#255e91"],
				[sz1.name, calculateAverage(sz1.data, field), "#70ad47"],
				[sz2.name, calculateAverage(sz2.data, field), "#4472c4"],
				[sz3.name, calculateAverage(sz3.data, field), "#ffc000"],
				[sz4.name, calculateAverage(sz4.data, field), "#a5a5a5"],
				[sz5.name, calculateAverage(sz5.data, field), "#ed7d31"],
				[sz6.name, calculateAverage(sz6.data, field), "#5b9bd5"]
			  ]);

			  var view = new google.visualization.DataView(data);
			  view.setColumns([0, 1,
							   { calc: "stringify",
								 sourceColumn: 1,
								 type: "string",
								 role: "annotation" },
							   2]);

			  var options = {
				title: 'Antworten zu Fragestellung ' + textcase + textscenario,
				width: '50%',
				height: 400,
				hAxis: {
				  title: 'Mittelwert '+ textcase,
				  minValue: 0,
				  maxValue:10
				},
				
				bar: {groupWidth: "75%"},
				legend: { position: "none" },
			  };
			  var chart = new google.visualization.BarChart(document.getElementById("result"));
			  chart.draw(view, options);
		}
		
		function drawDetail(scenario,field) {
			var scenario_data = scenario.data;
			var length = scenario_data.length;
			var display = [["Testperson", "Bewertung", { role: "style" } ]];
			
			for (var i = 0; i < length; i++) {
			  display.push([scenario_data[i].name, scenario_data[i][field], colors[i]]);
			}
			

			  var data = google.visualization.arrayToDataTable(display);

			  var view = new google.visualization.DataView(data);
			  view.setColumns([0, 1,
							   { calc: "stringify",
								 sourceColumn: 1,
								 type: "string",
								 role: "annotation" },
							   2]);

			  var options = {
				title: 'Antworten zu Fragestellung ' + textcase + textscenario,
				width: '50%',
				height: 400,
				hAxis: {
				  title: 'Bewertung '+textcase,
				  minValue: 0,
				  maxValue:10
				},
				bar: {groupWidth: "75%"},
				legend: { position: "none" },
			  };
			  var chart = new google.visualization.BarChart(document.getElementById("result"));
			  chart.draw(view, options);
		}
		
		
		
	
		
			
						
							
	</script>
</html>
